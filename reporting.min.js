function openReportGenerator(){let $repgen=$("<div>").html("<h3>Generate Report</h3>").addClass("PowerupReportGenerator").appendTo("body");let $cancel=$(`<button type="button">`).on("click",closeReportGenerator).text("Cancel").addClass("powerupButton").appendTo($repgen);let $generate=$(`<button type="button">`).on("click",generateReport).text("Generate").addClass("powerupButton").appendTo($repgen)}function closeReportGenerator(){$("div.PowerupReportGenerator").remove()}function generateReport(){(function(H){let getSVG=function(charts,options,callback){let svgArr=[],top=0,width=0,addSVG=function(svgres){let svgWidth=+svgres.match(/^<svg[^>]*width\s*=\s*\"?(\d+)\"?[^>]*>/)[1],svgHeight=+svgres.match(/^<svg[^>]*height\s*=\s*\"?(\d+)\"?[^>]*>/)[1],svg=svgres.replace("<svg",'<g transform="translate(0,'+top+')" ');svg=svg.replace("</svg>","</g>");top+=svgHeight;width=Math.max(width,svgWidth);svgArr.push(svg)},exportChart=function(i){if(i===charts.length){return callback('<svg height="'+top+'" width="'+width+'" version="1.1" xmlns="http://www.w3.org/2000/svg">'+svgArr.join("")+"</svg>")}let chartOptions={};let $chart=$(charts[i].container);let $tile=$chart.parents(DashboardPowerups.SELECTORS.TILE_SELECTOR);let $title=$tile.find(DashboardPowerups.SELECTORS.TITLE_SELECTOR);let title=$title.text();if(typeof title!="undefined"&&title.length)chartOptions.title={text:title};charts[i].getSVGForLocalExport(options,chartOptions,(function(){console.log("Failed to get SVG")}),(function(svg){addSVG(svg);return exportChart(i+1)}))};exportChart(0)};let exportCharts=function(charts,options){options=Highcharts.merge(Highcharts.getOptions().exporting,options);getSVG(charts,options,(function(svg){Highcharts.downloadSVGLocal(svg,options,(function(){console.log("Failed to export on client side")}))}))};Highcharts.setOptions({exporting:{fallbackToExportServer:false}});let charts=H.charts.filter((x=>typeof x!="undefined"));exportCharts(charts,{type:"application/pdf",libURL:DashboardPowerups.POWERUP_EXT_URL+"3rdParty/Highcharts/lib"})})(Highcharts)}
//# sourceMappingURL=file:///Users/lucas.hocker/Projects/DynatraceDashboardPowerup/reporting.min.js.map