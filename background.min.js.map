{"version":3,"sources":["background.js"],"names":["re","HotFixMode","hashListener","details","refIndex","url","indexOf","ref","slice","test","chrome","pageAction","show","tabId","runtime","lastError","console","log","message","version","getVersion","getAckedVersion","ackedVersion","setIcon","path","Number","split","listenForBeaconMessages","tabs","executeScript","file","runAt","loadExtside","hide","manifestData","getManifest","callback","storage","local","get","result","Powerups","undefined","filter","urlMatches","openKit","openKitSession","openKitAction","onMessage","addListener","request","sender","sendResponse","tab","OpenKit","startBeacon","beacon_status","endBeacon","crashBeacon","errorBeacon","PowerUp","backgroundPowerup","BEACON_LISTENING","beaconOptOut","deviceId","uuid","replace","isInitialized","OpenKitBuilder","BG_ENV","OPENKIT_URL","OPENKIT_APPID","withApplicationVersion","applicationVersion","withOperatingSystem","operatingSystem","withManufacturer","manufacturer","withModelId","modelId","withScreenResolution","screenResolution","withLogLevel","build","createSession","userId","name","identifyUser","enterAction","action","Object","keys","vals","forEach","x","reportValue","e","stack","reportCrash","end","shutdown","err","reason","context","code","reportError","leaveAction","payload","createMetricPayload","length","sendMetricToDT","line","METRIC_KEY","ENT_ID","config","meta","RegExp","summaryLine","METRIC_SUMMARY_KEY","powerups","startsWith","settings","API_URL","data","headers","Authorization","DT_TOKEN","Content-Type","$","post","done","fail","checkSignals","alarm","SIGNAL_URL","GH_URL","getJSON","signal","set","hotfixMode","jqxhr","textStatus","error","caches","warn","match","then","response","messageBackDataURLFromResponse","fetch","responseClone","clone","open","cache","put","catch","allowedFileTypes","blob","blobResponse","type","reader","FileReader","onload","dataURL","target","sendMessage","id","PowerUpResult","targetSelector","responseFromExtside","readAsDataURL","webNavigation","onCommitted","onHistoryStateUpdated","onReferenceFragmentUpdated","alarms","onAlarm","create","delayInMinutes","periodInMinutes"],"mappings":"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"}