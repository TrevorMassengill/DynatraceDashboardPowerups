{"version":3,"sources":["background.js"],"names":["re","HotFixMode","hashListener","details","refIndex","url","indexOf","ref","slice","test","chrome","pageAction","show","tabId","runtime","lastError","console","log","message","version","getVersion","getAckedVersion","ackedVersion","setIcon","path","Number","split","listenForBeaconMessages","tabs","executeScript","file","runAt","loadExtside","hide","manifestData","getManifest","callback","storage","local","get","result","Powerups","undefined","filter","urlMatches","openKit","openKitSession","openKitAction","webRequestTracer","onMessage","addListener","request","sender","sendResponse","tab","OpenKit","startBeacon","beacon_status","endBeacon","crashBeacon","errorBeacon","reportUsage","PowerUp","backgroundPowerup","BEACON_LISTENING","beaconOptOut","deviceId","uuid","replace","initialized","isShutdown","OpenKitBuilder","BG_ENV","OPENKIT_URL","OPENKIT_APPID","withApplicationVersion","applicationVersion","withOperatingSystem","operatingSystem","withManufacturer","manufacturer","withModelId","modelId","withScreenResolution","screenResolution","withLogLevel","build","_isShutdown","createSession","userId","name","identifyUser","enterAction","action","Object","keys","vals","forEach","x","reportValue","e","stack","reportCrash","end","shutdown","err","reason","context","code","reportError","leaveAction","payload","createMetricPayload","length","sendMetricToDT","line","METRIC_KEY","ENT_ID","config","meta","RegExp","summaryLine","METRIC_SUMMARY_KEY","powerups","startsWith","metadata","METRIC_REPORT_DETAIL","METRIC_REPORTS","aggUsage","styles","settings","API_URL","data","headers","Authorization","DT_TOKEN","Content-Type","$","post","done","fail","checkSignals","alarm","SIGNAL_URL","GH_URL","getJSON","signal","set","hotfixMode","jqxhr","textStatus","error","caches","warn","match","then","response","traceWebRequest","messageBackDataURLFromResponse","setBytesSent","setBytesReceived","stop","fetch","status","responseClone","clone","open","cache","put","blob","size","catch","allowedFileTypes","blobResponse","type","reader","FileReader","onload","dataURL","target","sendMessage","id","PowerUpResult","targetSelector","responseFromExtside","readAsDataURL","webNavigation","onCommitted","onHistoryStateUpdated","onReferenceFragmentUpdated","alarms","onAlarm","create","delayInMinutes","periodInMinutes"],"mappings":"AAQA,IAAIA,GAAK,6BACT,IAAIC,WAAcA,WAAaA,WAAa,EAE5C,SAASC,aAAaC,SAClB,IAAIC,SAAWD,QAAQE,IAAIC,QAAQ,KACnC,IAAIC,IAAMH,UAAY,EAAID,QAAQE,IAAIG,MAAMJ,SAAW,GAAK,GAC5D,GAAIJ,GAAGS,KAAKF,KAAM,CACdG,OAAOC,WAAWC,KAAKT,QAAQU,OAAO,KAClC,GAAIH,OAAOI,QAAQC,UAAW,CAC1BC,QAAQC,IAAIP,OAAOI,QAAQC,UAAUG,aAClC,CACH,IAAIC,QAAUC,aACdC,iBAAiBC,eACb,IAAKA,aAAcZ,OAAOC,WAAWY,QAAQ,CAAEV,MAAOV,QAAQU,MAAOW,KAAM,8BAC3EF,aAAeG,QAAQH,cAAgB,OAAOI,MAAM,KAAK,IACzDP,QAAUM,QAAQN,SAAW,OAAOO,MAAM,KAAK,IAC/C,GAAIJ,eAAiBH,QACjBT,OAAOC,WAAWY,QAAQ,CAAEV,MAAOV,QAAQU,MAAOW,KAAM,4BAExDd,OAAOC,WAAWY,QAAQ,CAAEV,MAAOV,QAAQU,MAAOW,KAAM,iCAEhEG,0BAEAjB,OAAOkB,KAAKC,cAAc1B,QAAQU,MAAO,CAAEiB,KAAM,+BAAgCC,MAAO,iBACxFrB,OAAOkB,KAAKC,cAAc1B,QAAQU,MAAO,CAAEiB,KAAM,oDAAqDC,MAAO,iBAC7GC,YAAY7B,iBAKjB,CACHO,OAAOC,WAAWsB,KAAK9B,QAAQU,OAAO,KAClC,GAAIH,OAAOI,QAAQC,UAAW,CAC1BC,QAAQC,IAAIP,OAAOI,QAAQC,UAAUG,aAClC,CACHR,OAAOC,WAAWY,QAAQ,CAAEV,MAAOV,QAAQU,MAAOW,KAAM,iCAOxE,SAASJ,aACL,IAAIc,aAAexB,OAAOI,QAAQqB,cAClC,OAAOD,aAAaf,QAGxB,SAASE,gBAAgBe,UACrB1B,OAAO2B,QAAQC,MAAMC,IAAI,CAAC,aAAa,SAAUC,QAC7C,GAAIA,QAAUA,OAAOC,UAAYD,OAAOC,SAASnB,aAAc,CAC3Dc,SAASI,OAAOC,SAASnB,kBACtB,CACHc,SAASM,eAMrB,IAAIC,OAAS,CACTtC,IAAK,CAAC,CACFuC,WAAY,0DAIpB,IAAIC,QAASC,eAAgBC,cAAeC,iBAE5C,SAASrB,0BACL,UAAW,kBAAsB,YAAa,CAC1CjB,OAAOI,QAAQmC,UAAUC,aACrB,SAAUC,QAASC,OAAQC,cACvBrC,QAAQC,IAAImC,OAAOE,IACf,yBAA2BF,OAAOE,IAAIjD,IACtC,sBACJ,OAAQ8C,QAAQI,SACZ,IAAK,eACL,IAAK,sBACDC,YAAYL,SACZE,aAAa,CAAEI,cAAe,SAC9B,MACJ,IAAK,aACL,IAAK,oBACDC,UAAUP,SACVE,aAAa,CAAEI,cAAe,SAC9B,MACJ,IAAK,eACDE,YAAYR,SACZE,aAAa,CAAEI,cAAe,SAC9B,MACJ,IAAK,eACDG,YAAYT,SACZE,aAAa,CAAEI,cAAe,SAC9B,MACJ,IAAK,eACDI,YAAYV,SACZE,aAAa,CAAEI,cAAe,SAC9B,MAER,OAAQN,QAAQW,SACZ,IAAK,gBACL,IAAK,WACDC,kBAAkBZ,QAASC,QAC3B,MAER,OAAO,QAEfpC,QAAQC,IAAI,qCACZ+C,iBAAmB,MAI3B,SAASR,YAAYL,SACjB,UAAW,iBAAqB,YAAa,OAAO,MACpD,GAAIA,QAAQc,aAAc,OAAO,MAEjCjD,QAAQC,IAAI,yCACZ,IAAIiD,SAAWf,QAAQgB,KAAKC,QAAQ,UAAW,IAAI5D,MAAM,EAAG,IAC5D,IAAKqC,UAAYA,QAAQwB,aAAexB,QAAQyB,WAAY,CACxDzB,QAAU,IAAI0B,eACVC,OAAOC,YACPD,OAAOE,cACPR,UAECS,uBAAuBxB,QAAQyB,oBAC/BC,oBAAoB1B,QAAQ2B,iBAC5BC,iBAAiB5B,QAAQ6B,cACzBC,YAAY9B,QAAQ+B,SACpBC,qBAAqBhC,QAAQiC,iBAAiB,GAAIjC,QAAQiC,iBAAiB,IAC3EC,aAAa,IACbC,QAGT,GAAIzC,QAAS,CACT,IAAKC,gBAAkBA,eAAeyC,YAClCzC,eAAiBD,QAAQ2C,gBAC7B,GAAI1C,eAAgB,CAChB,IAAKA,eAAe2C,QAAU3C,eAAe2C,SAAWtC,QAAQuC,KAAM,CAClE5C,eAAe6C,aAAaxC,QAAQuC,MACpC5C,eAAe2C,OAAStC,QAAQuC,KAEpC3C,cAAgBD,eAAe8C,YAAYzC,QAAQ0C,QACnD,GAAI9C,cAAe,CACf+C,OAAOC,KAAK5C,QAAQ6C,MAAMC,SAAQC,IAC9BnD,cAAcoD,YAAYD,EAAG/C,QAAQ6C,KAAKE,OAE9CnD,cAAcoD,YAAY,aAAclG,YACxC8C,cAAcoD,YAAY,OAAQhD,QAAQgB,MAC1CpB,cAAciD,KAAO7C,QAAQ6C,QAM7C,SAASrC,YAAYR,SACjB,UAAW,iBAAqB,YAAa,OAAO,MACpD,GAAIA,QAAQc,aAAc,OAAO,MAEjC,GAAInB,eAAgB,CAChB,IAAIsD,EAAIjD,QAAQiD,GAAK,CAAEV,KAAM,GAAIxE,QAAS,GAAImF,MAAO,IACrDvD,eAAewD,YAAYF,EAAEV,KAAMU,EAAElF,QAASkF,EAAEC,OAChDvD,eAAeyD,MACf1D,QAAQ2D,WAGZxF,QAAQC,IAAI,yCAGhB,SAAS2C,YAAYT,SACjB,UAAW,iBAAqB,YAAa,OAAO,MACpD,GAAIA,QAAQc,aAAc,OAAO,MAEjC,GAAIlB,cAAe,CACf,IAAI0D,IAAKC,OACT,UAAW,SAAa,SAAU,CAC9BD,IAAMtD,QACNuD,OAAS,mCACN,UAAW,SAAa,SAAU,CACrCD,IAAMtD,QAAQsD,IACdC,OAAS,YAAYvD,QAAQwD,uBAC1BF,IAAM,gBACb,IAAIG,KAAO,EAEX7D,cAAc8D,YAAYJ,IAAKG,KAAMF,QAGzC1F,QAAQC,IAAI,yCAGhB,SAASyC,UAAUP,SACf,UAAW,iBAAqB,cAAgBN,QAAS,OAAO,MAChE7B,QAAQC,IAAI,uCACZ,GAAI8B,cAAe,CACf+C,OAAOC,KAAK5C,QAAQ6C,MAAMC,SAAQC,IAC9BnD,cAAcoD,YAAYD,EAAG/C,QAAQ6C,KAAKE,OAE9CnD,cAAc+D,cAEd,GAAG3D,QAAQI,SAAW,aAAa,CAC/B,IAAIwD,QAAUC,oBAAoB,IAAK7D,QAAQ6C,QAASjD,cAAciD,OACtE,GAAIe,SAAWA,QAAQE,OAAQC,eAAeH,cAC3C,GAAG5D,QAAQI,SAAW,aAAa,IAOlD,SAASyD,oBAAoBhB,MACzB,IAAIe,QAAU,GACd,IAAII,KAAO,GAAG3C,OAAO4C,2CAA2C5C,OAAO6C,UAEvE,GAAI,iBAAkBrB,KAAMmB,MAAQ,gBAAgBnB,KAAK,mBACzD,GAAI,oBAAqBA,KAAMmB,MAAQ,mBAAmBnB,KAAK,sBAC/D,GAAI,SAAUA,KAAMmB,MAAQ,QAAQnB,KAAK,WACzC,GAAI,aAAcA,KAAMmB,MAAQ,YAAYnB,KAAK,eACjD,GAAI,gBAAiBA,KAAMmB,MAAQ,eAAenB,KAAK,kBACvD,GAAI,SAAUA,KAAMmB,MAAQ,QAAQnB,KAAK,WACzC,GAAInD,SAAWA,QAAQyE,QAAUzE,QAAQyE,OAAOC,MAAQ1E,QAAQyE,OAAOC,KAAK3C,mBACxEuC,MAAQ,WAAWtE,QAAQyE,OAAOC,KAAK3C,sBAC3C,GAAI9B,gBAAkBA,eAAe2C,OAAQ0B,MAAQ,UAAUrE,eAAe2C,UAC9E,UAAW,YAAgB,YAAa0B,MAAQ,cAAclH,cAE9D,IAAID,GAAK,IAAIwH,OAAO,IAAIhD,OAAO4C,eAC/B,IAAIK,YAAcN,KAAK/C,QAAQpE,GAAI,GAAGwE,OAAOkD,uBAC7C,GAAI1B,MAAQF,OAAOC,KAAKC,MAAMiB,OAAQ,CAClC,IAAIU,SAAW7B,OAAOC,KAAKC,MAAMrD,QAAOuD,GAAKA,EAAE0B,WAAW,SAC1DD,SAAS1B,SAAQC,IACba,SAAWI,KAAO,WAAWjB,KAAKF,KAAKE,UAE3C,GAAIyB,SAASV,OACTF,SAAWU,YAAc,0BAEzBV,QAAUU,YAAc,0BACzB,CACHzG,QAAQC,IAAI,+CACZ,OAAOyB,UAGX,OAAOqE,QAGX,SAASlD,YAAYV,SACjB,IAAI6C,KAAO7C,QAAQ0E,SACnB,IAAId,QAAU,GACd,IAAII,KAAO,GAAG3C,OAAOsD,qDAAqDtD,OAAO6C,UAEjF,GAAI,iBAAkBrB,KAAMmB,MAAQ,gBAAgBnB,KAAK,mBACzD,GAAI,oBAAqBA,KAAMmB,MAAQ,mBAAmBnB,KAAK,sBAC/D,GAAI,SAAUA,KAAMmB,MAAQ,QAAQnB,KAAK,WACzC,GAAI,aAAcA,KAAMmB,MAAQ,YAAYnB,KAAK,eACjD,GAAI,gBAAiBA,KAAMmB,MAAQ,eAAenB,KAAK,kBACvD,GAAI,SAAUA,KAAMmB,MAAQ,QAAQnB,KAAK,WACzC,GAAInD,SAAWA,QAAQyE,QAAUzE,QAAQyE,OAAOC,MAAQ1E,QAAQyE,OAAOC,KAAK3C,mBACxEuC,MAAQ,WAAWtE,QAAQyE,OAAOC,KAAK3C,sBAC3C,GAAI9B,gBAAkBA,eAAe2C,OAAQ0B,MAAQ,UAAUrE,eAAe2C,UAC9E,UAAW,YAAgB,YAAa0B,MAAQ,cAAclH,cAE9D,IAAID,GAAK,IAAIwH,OAAO,IAAIhD,OAAOsD,yBAC/B,IAAIL,YAAcN,KAAK/C,QAAQpE,GAAI,GAAGwE,OAAOuD,mBAC7C,GAAI5E,QAAQ6E,UAAYlC,OAAOC,KAAK5C,QAAQ6E,UAAUf,OAAQ,CAC1D,IAAIgB,OAASnC,OAAOC,KAAK5C,QAAQ6E,UACjCC,OAAOhC,SAAQC,IACXa,SAAWI,KAAO,SAASjB,KAAK/C,QAAQ6E,SAAS9B,UAErD,GAAI+B,OAAOhB,OACPF,SAAWU,YAAc,uBAEzBV,QAAUU,YAAc,uBACzB,CACHzG,QAAQC,IAAI,+CACZ,OAAOyB,UAGXwE,eAAeH,SAGnB,SAASG,eAAeH,SACpB,IAAImB,SAAW,CACX7H,IAAKmE,OAAO2D,QACZC,KAAMrB,QACNsB,QAAS,CACLC,cAAe,aAAe9D,OAAO+D,SACrCC,eAAgB,8BAIxBC,EAAEC,KAAKR,UACFS,MAAK,KAAQ3H,QAAQC,IAAI,uCACzB2H,MAAK,KAAQ5H,QAAQC,IAAI,sCAGlC,SAAS4H,aAAaC,OAClB,MAAMC,WAAavE,OAAOwE,OAAS,eAEnCP,EAAEQ,QAAQF,YACLJ,MAAMO,SACH,GAAIA,eAAkBA,OAAiB,aAAM,YAAa,CACtDxI,OAAO2B,QAAQC,MAAM6G,IAAI,CAAEC,WAAcF,OAAOE,aAAc,SAC9DnJ,WAAaiJ,OAAOE,eAG3BR,MAAK,CAACS,MAAOC,WAAYC,SACtBvI,QAAQC,IAAI,wCAAwCsI,YAIhE,SAASvH,YAAY7B,SACjB,GAAIF,WAAa,EAAG,CAEhB,MAAM6B,KAAO0C,OAAOwE,OAAS,iBAC7BhI,QAAQC,IAAI,2DACZwH,EAAElG,IAAIT,MACD6G,MAAM/B,OACHlG,OAAOkB,KAAKC,cAAc1B,QAAQU,MAAO,CAAE+F,KAAMA,KAAM7E,MAAO,oBAEjE6G,MAAK,CAACS,MAAOC,WAAYC,SACtBvI,QAAQC,IAAI,sEAAsEsI,gBAEvF,CACH7I,OAAOkB,KAAKC,cAAc1B,QAAQU,MAAO,CAAEiB,KAAM,iBAAkBC,MAAO,kBAIlF,SAASgC,kBAAkBZ,QAASC,QAChC,OAAQD,QAAQW,SACZ,IAAK,gBACL,IAAK,WAMD,GAAI0F,OAAQ,CACR,MAAMnJ,IAAM8C,QAAQ9C,IACpB,IAAKA,IAAI4G,OAAQ,CACbjG,QAAQyI,KAAK,2CACb,OAAO,MAEXD,OAAOE,MAAMrJ,KAAKsJ,MAAK,SAAUC,UAC7B,GAAIA,WAAalH,UAAW,CACxB,GAAIK,cACAC,iBAAmBD,cAAc8G,gBAAgBxJ,KAErDyJ,+BAA+BF,SAAUzG,QAASC,QAElD,GAAIJ,iBAAkB,CAClBA,iBAAiB+G,aAAa,GAC9B/G,iBAAiBgH,iBAAiB,GAClChH,iBAAiBiH,KAAK,KAE1B,OAAO,SACJ,CACH,GAAIlH,cACAC,iBAAmBD,cAAc8G,gBAAgBxJ,KACrD,OAAO6J,MAAM7J,KAAKsJ,MAAKC,WACnB,IAAIO,OAASP,SAASO,OAEtB,IAAIC,cAAgBR,SAASS,QAC7Bb,OAAOc,KAAK,YAAYX,MAAK,SAAUY,OACnCA,MAAMC,IAAInK,IAAK+J,kBAGnB,GAAIpH,iBAAkB,CAClB4G,SAASS,QAAQI,OAAOd,MAAKc,OACzB,IAAIC,KAAOD,KAAKC,KAChB1H,iBAAiB+G,aAAa,GAC9B/G,iBAAiBgH,iBAAiBU,MAClC1H,iBAAiBiH,KAAKE,WAI9BL,+BAA+BF,SAAUzG,QAASC,QAClD,OAAO,QACRuH,OAAM,WACL,OAAO,iBAIhB,CACH3J,QAAQyI,KAAK,sCAEjB,OAIZ,SAASK,+BAA+BF,SAAUzG,QAASC,QACvD,MAAMwH,iBAAmB,CAAC,YAAa,aAAc,aACrDhB,SAASa,OAAOd,MAAMkB,eAClB,IAAIC,KAAOD,aAAaC,KACxB,IAAIzK,IAAM8C,QAAQ9C,IAClB,GAAIuK,iBAAiBtK,QAAQwK,MAAQ,EAAG,CACpC,IAAIrE,IAAM,YAAYtD,QAAQW,uCAAuCgH,cAAczK,OACnFW,QAAQyI,KAAKhD,KACb7C,YAAY6C,KACZ,OAAO,UACJ,CACH,IAAIsE,OAAS,IAAIC,WACjBD,OAAOE,OAAU7E,IACb,IAAI8E,QAAU9E,EAAE+E,OAAO3I,OAEvB9B,OAAOkB,KAAKwJ,YAAYhI,OAAOE,IAAI+H,GAC/B,CACIC,cAAenI,QAAQW,QACvBzD,IAAKA,IACLkL,eAAgBpI,QAAQoI,eACxBL,QAASA,UAEZM,sBAEG,GAAI9K,OAAOI,QAAQC,UACfC,QAAQC,IAAIP,OAAOI,QAAQC,UAAUG,aAGrD6J,OAAOU,cAAcZ,kBAMjCnK,OAAOgL,cAAcC,YAAYzI,YAAYhD,aAAcyC,QAC3DjC,OAAOgL,cAAcE,sBAAsB1I,YAAYhD,aAAcyC,QACrEjC,OAAOgL,cAAcG,2BAA2B3I,YAAYhD,aAAcyC,QAC1EjC,OAAOoL,OAAOC,QAAQ7I,YAAY2F,cAClCnI,OAAOoL,OAAOE,OAAO,eAAgB,CAAEC,eAAgB,EAAGC,gBAAiB"}